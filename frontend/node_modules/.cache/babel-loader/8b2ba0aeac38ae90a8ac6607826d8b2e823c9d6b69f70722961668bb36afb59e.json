{"ast":null,"code":"var _jsxFileName = \"/Users/seanlongdale/Development/code/phase-3/phase-3-project/frontend/phase-3-frontend/src/PersonalRecords.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from 'react';\nimport { CurrentUserContext } from './UserInfo';\nimport RecordList from \"./RecordList\";\nimport Filter from './Filter';\nimport RecordAdd from './RecordAdd';\nimport ExerciseAdd from './ExerciseAdd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction PersonalRecords() {\n  _s();\n  const [userRecords, setUserRecords] = useState([]);\n  const [exercises, setExercises] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [currentUser, setCurrentUser] = useContext(CurrentUserContext);\n  const [exerciseSearchTerm, setExerciseSearchTerm] = useState('');\n  const [categorySearchTerm, setCategorySearchTerm] = useState('');\n  console.log(currentUser.id);\n  useEffect(() => {\n    fetch(`http://localhost:9292/personal_records/${currentUser.id}`).then(r => r.json()).then(records => console.log(records));\n    fetch(\"http://localhost:9292/exercises\").then(r => r.json()).then(exercises => setExercises(exercises));\n    fetch(`http://localhost:9292/categories`).then(r => r.json()).then(resp => setCategories(resp));\n  }, []);\n  function handleDeleteRecord(id) {\n    const updatedRecords = userRecords.filter(record => record.id !== id);\n    setUserRecords(updatedRecords);\n  }\n  function handleRecordUpdate(updatedRecord) {\n    const updatedRecords = userRecords.map(record => {\n      if (record.id === updatedRecord.id) {\n        return updatedRecord;\n      } else {\n        return record;\n      }\n    });\n    setUserRecords(updatedRecords);\n  }\n  function handleExerciseFilter(exerciseSearchInput) {\n    setExerciseSearchTerm(exerciseSearchInput);\n  }\n  function handleCategoryFilter(categorySearchInput) {\n    setCategorySearchTerm(categorySearchInput);\n  }\n  function handleNewRecordAdd(newRecord) {\n    setUserRecords([newRecord, ...userRecords]);\n  }\n  function handleExerciseAdd(newExercise) {\n    setExercises([...exercises, newExercise]);\n    alert(\"New exercise added!\");\n  }\n  function isLoggedIn() {\n    if (currentUser.length !== 0) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"subtitle\",\n          children: \"Personal Records\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(RecordAdd, {\n          exercises: exercises,\n          onNewRecordAdd: handleNewRecordAdd,\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(ExerciseAdd, {\n          categories: categories,\n          onExerciseAdd: handleExerciseAdd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Filter, {\n          onExerciseFilter: handleExerciseFilter,\n          onCategoryFilter: handleCategoryFilter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(RecordList, {\n          records: userRecords,\n          onRecordDelete: handleDeleteRecord,\n          onRecordUpdate: handleRecordUpdate,\n          exerciseSearchTerm: exerciseSearchTerm,\n          categorySearchTerm: categorySearchTerm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoggedIn()\n  }, void 0, false);\n}\n_s(PersonalRecords, \"PV28EZa/wr+k7SwBbKi7fh6gN0M=\");\n_c = PersonalRecords;\nexport default PersonalRecords;\nvar _c;\n$RefreshReg$(_c, \"PersonalRecords\");","map":{"version":3,"names":["React","useEffect","useState","useContext","CurrentUserContext","RecordList","Filter","RecordAdd","ExerciseAdd","jsxDEV","_jsxDEV","Fragment","_Fragment","PersonalRecords","_s","userRecords","setUserRecords","exercises","setExercises","categories","setCategories","currentUser","setCurrentUser","exerciseSearchTerm","setExerciseSearchTerm","categorySearchTerm","setCategorySearchTerm","console","log","id","fetch","then","r","json","records","resp","handleDeleteRecord","updatedRecords","filter","record","handleRecordUpdate","updatedRecord","map","handleExerciseFilter","exerciseSearchInput","handleCategoryFilter","categorySearchInput","handleNewRecordAdd","newRecord","handleExerciseAdd","newExercise","alert","isLoggedIn","length","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onNewRecordAdd","onExerciseAdd","onExerciseFilter","onCategoryFilter","onRecordDelete","onRecordUpdate","_c","$RefreshReg$"],"sources":["/Users/seanlongdale/Development/code/phase-3/phase-3-project/frontend/phase-3-frontend/src/PersonalRecords.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { CurrentUserContext } from './UserInfo';\nimport RecordList from \"./RecordList\";\nimport Filter from './Filter';\nimport RecordAdd from './RecordAdd';\nimport ExerciseAdd from './ExerciseAdd';\n\nfunction PersonalRecords() {\n    const [userRecords, setUserRecords] = useState([])\n    const [exercises, setExercises] = useState([])\n    const [categories, setCategories] = useState([])\n    const [currentUser, setCurrentUser ] = useContext(CurrentUserContext)\n    const [exerciseSearchTerm, setExerciseSearchTerm ] = useState('')\n    const [categorySearchTerm, setCategorySearchTerm ] = useState('')\nconsole.log(currentUser.id)\n    useEffect(() => {\n        fetch(`http://localhost:9292/personal_records/${currentUser.id}`)\n          .then((r) => r.json())\n          .then((records) => console.log(records));\n        fetch(\"http://localhost:9292/exercises\")\n          .then((r) => r.json())\n          .then((exercises) => setExercises(exercises));\n        fetch(`http://localhost:9292/categories`)\n          .then((r) => r.json())\n          .then((resp) => setCategories(resp));\n    }, []);\n\n    function handleDeleteRecord(id){\n        const updatedRecords = userRecords.filter((record) => record.id !== id);\n        setUserRecords(updatedRecords)\n    }\n    \n    function handleRecordUpdate(updatedRecord){\n        const updatedRecords = userRecords.map(record =>{\n            if (record.id === updatedRecord.id){\n                return updatedRecord\n            } else {\n                return record\n            }\n        })\n        setUserRecords(updatedRecords)\n    }\n\n    function handleExerciseFilter(exerciseSearchInput){\n        setExerciseSearchTerm(exerciseSearchInput)\n    }\n\n    function handleCategoryFilter(categorySearchInput){\n        setCategorySearchTerm(categorySearchInput)\n    }\n\n    function handleNewRecordAdd(newRecord){\n        setUserRecords([newRecord, ...userRecords])\n    }\n\n    function handleExerciseAdd(newExercise){\n        setExercises([...exercises, newExercise])\n        alert(\"New exercise added!\")\n    }\n\n    function isLoggedIn(){\n        if (currentUser.length !== 0) {\n          return (\n            <>\n                <span className=\"subtitle\">Personal Records</span>\n                <RecordAdd \n                    exercises={exercises}\n                    onNewRecordAdd={handleNewRecordAdd} \n                    currentUser={currentUser} />\n                <ExerciseAdd\n                    categories={categories}\n                    onExerciseAdd={handleExerciseAdd} />\n                <Filter \n                    onExerciseFilter={handleExerciseFilter}\n                    onCategoryFilter={handleCategoryFilter} />\n                <RecordList \n                    records={userRecords}\n                    onRecordDelete={handleDeleteRecord}\n                    onRecordUpdate={handleRecordUpdate}\n                    exerciseSearchTerm={exerciseSearchTerm}\n                    categorySearchTerm={categorySearchTerm} />\n            </>\n          )\n        } \n    }\n\n    return ( \n        <>\n        {isLoggedIn()}\n        </>\n    )\n\n}\n\nexport default PersonalRecords;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}